import{a as J}from"./chunk-ENUBIGUT.js";import{a as H}from"./chunk-PNRBRSPH.js";import{a as L}from"./chunk-PWIRR5TW.js";import{e as G}from"./chunk-S7VCMZIP.js";import{Ba as q,sa as U,ta as _}from"./chunk-AY2ARFMM.js";import{j,k as z,o as K,s as Q}from"./chunk-QIAVZCJE.js";import{$ as p,$a as M,Ab as A,Bb as P,Fb as B,Fc as I,Gb as r,Jb as y,Lb as x,Ma as c,Mb as T,Q as w,R as k,S as O,Tb as v,W as b,Xa as F,Ya as D,aa as u,ac as S,bb as d,db as g,ec as $,lb as N,na as h,rb as s,sb as E,tb as V,tc as R,xc as C,yb as f,zb as m}from"./chunk-YSO2AELB.js";var W=`
    .p-inputotp {
        display: flex;
        align-items: center;
        gap: dt('inputotp.gap');
    }

    .p-inputotp-input {
        text-align: center;
        width: dt('inputotp.input.width');
    }

    .p-inputotp-input.p-inputtext-sm {
        text-align: center;
        width: dt('inputotp.input.sm.width');
    }

    .p-inputotp-input.p-inputtext-lg {
        text-align: center;
        width: dt('inputotp.input.lg.width');
    }
`;var Z=["input"],tt=(i,l,t)=>({$implicit:i,events:l,index:t});function et(i,l){if(i&1){let t=P();f(0),E(1,"input",2),B("input",function(n){p(t);let o=r().$implicit,a=r();return u(a.onInput(n,o-1))})("focus",function(n){p(t);let o=r(2);return u(o.onInputFocus(n))})("blur",function(n){p(t);let o=r(2);return u(o.onInputBlur(n))})("paste",function(n){p(t);let o=r(2);return u(o.onPaste(n))})("keydown",function(n){p(t);let o=r(2);return u(o.onKeyDown(n))}),V(),m()}if(i&2){let t=r().$implicit,e=r();c(),v(e.cn(e.cx("pcInputText"),e.styleClass)),s("value",e.getModelValue(t))("pSize",e.size())("variant",e.$variant())("invalid",e.invalid())("pAutoFocus",e.getAutofocus(t)),N("maxlength",t===1?e.length:1)("type",e.inputType)("name",e.name())("tabindex",e.tabindex)("required",e.required()?"":void 0)("readonly",e.readonly?"":void 0)("disabled",e.$disabled()?"":void 0)}}function nt(i,l){i&1&&A(0)}function it(i,l){if(i&1&&(f(0),d(1,nt,1,0,"ng-container",3),m()),i&2){let t=r().$implicit,e=r();c(),s("ngTemplateOutlet",e.inputTemplate||e._inputTemplate)("ngTemplateOutletContext",$(2,tt,e.getToken(t-1),e.getTemplateEvents(t-1),t))}}function ot(i,l){if(i&1&&(f(0),d(1,et,2,14,"ng-container",1)(2,it,2,6,"ng-container",1),m()),i&2){let t=r();c(),s("ngIf",!t.inputTemplate&&!t._inputTemplate),c(),s("ngIf",t.inputTemplate||t._inputTemplate)}}var rt={root:"p-inputotp p-component",pcInputText:"p-inputotp-input"},X=(()=>{class i extends q{name="inputotp";theme=W;classes=rt;static \u0275fac=(()=>{let t;return function(n){return(t||(t=h(i)))(n||i)}})();static \u0275prov=k({token:i,factory:i.\u0275fac})}return i})();var at={provide:L,useExisting:w(()=>Y),multi:!0},Y=(()=>{class i extends J{readonly;tabindex=null;length=4;styleClass;mask=!1;integerOnly=!1;autofocus;variant=C();size=C();onChange=new g;onFocus=new g;onBlur=new g;inputTemplate;templates;_inputTemplate;tokens=[];value;$variant=R(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());get inputMode(){return this.integerOnly?"numeric":"text"}get inputType(){return this.mask?"password":"text"}_componentStyle=b(X);ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"input":this._inputTemplate=t.template;break;default:this._inputTemplate=t.template;break}})}getToken(t){return this.tokens[t]}getTemplateEvents(t){return{input:e=>this.onInput(e,t),keydown:e=>this.onKeyDown(e),focus:e=>this.onFocus.emit(e),blur:e=>this.onBlur.emit(e),paste:e=>this.onPaste(e)}}onInput(t,e){let n=t.target.value;if(e===0&&n.length>1){this.handleOnPaste(n,t),t.stopPropagation();return}this.tokens[e]=n,this.updateModel(t),t.inputType==="deleteContentBackward"?this.moveToPrev(t):(t.inputType==="insertText"||t.inputType==="deleteContentForward")&&this.moveToNext(t)}updateModel(t){let e=this.tokens.join("");this.writeModelValue(e),this.onModelChange(e),this.onChange.emit({originalEvent:t,value:e})}updateTokens(){this.value!==null&&this.value!==void 0?Array.isArray(this.value)?this.tokens=[...this.value]:this.tokens=this.value.toString().split(""):this.tokens=[]}getModelValue(t){return this.tokens[t-1]||""}getAutofocus(t){return t===1?this.autofocus:!1}moveToPrev(t){let e=this.findPrevInput(t.target);e&&(e.focus(),e.select())}moveToNext(t){let e=this.findNextInput(t.target);e&&(e.focus(),e.select())}findNextInput(t){let e=t.nextElementSibling;if(e)return e.nodeName==="INPUT"?e:this.findNextInput(e)}findPrevInput(t){let e=t.previousElementSibling;if(e)return e.nodeName==="INPUT"?e:this.findPrevInput(e)}onInputFocus(t){t.target.select(),this.onFocus.emit(t)}onInputBlur(t){this.onBlur.emit(t)}onKeyDown(t){if(!(t.altKey||t.ctrlKey||t.metaKey))switch(t.code){case"ArrowLeft":this.moveToPrev(t),t.preventDefault();break;case"ArrowUp":case"ArrowDown":t.preventDefault();break;case"Backspace":t.target.value.length===0&&(this.moveToPrev(t),t.preventDefault());break;case"ArrowRight":this.moveToNext(t),t.preventDefault();break;default:(this.integerOnly&&!(Number(t.key)>=0&&Number(t.key)<=9)||this.tokens.join("").length>=this.length&&t.code!=="Delete")&&t.preventDefault();break}}onPaste(t){if(!this.$disabled()&&!this.readonly){let e=t.clipboardData.getData("text");e.length&&this.handleOnPaste(e,t),t.preventDefault()}}handleOnPaste(t,e){let n=t.substring(0,this.length+1);(!this.integerOnly||!isNaN(n))&&(this.tokens=n.split(""),this.updateModel(e))}getRange(t){return Array.from({length:t},(e,n)=>n+1)}trackByFn(t){return t}writeControlValue(t,e){t?Array.isArray(t)&&t.length>0?this.value=t.slice(0,this.length):this.value=t.toString().split("").slice(0,this.length):this.value=t,e(this.value),this.updateTokens(),this.cd.markForCheck()}static \u0275fac=(()=>{let t;return function(n){return(t||(t=h(i)))(n||i)}})();static \u0275cmp=F({type:i,selectors:[["p-inputOtp"],["p-inputotp"],["p-input-otp"]],contentQueries:function(e,n,o){if(e&1&&(y(o,Z,4),y(o,U,4)),e&2){let a;x(a=T())&&(n.inputTemplate=a.first),x(a=T())&&(n.templates=a)}},hostVars:2,hostBindings:function(e,n){e&2&&v(n.cx("root"))},inputs:{readonly:[2,"readonly","readonly",I],tabindex:"tabindex",length:"length",styleClass:"styleClass",mask:"mask",integerOnly:"integerOnly",autofocus:[2,"autofocus","autofocus",I],variant:[1,"variant"],size:[1,"size"]},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[S([at,X]),M],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["type","text","pInputText","",3,"input","focus","blur","paste","keydown","value","pSize","variant","invalid","pAutoFocus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){e&1&&d(0,ot,3,2,"ng-container",0),e&2&&s("ngForOf",n.getRange(n.length))("ngForTrackBy",n.trackByFn)},dependencies:[Q,j,z,K,H,G,_],encapsulation:2,changeDetection:0})}return i})(),Ft=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=D({type:i});static \u0275inj=O({imports:[Y,_,_]})}return i})();export{Y as a,Ft as b};
